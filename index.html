<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Simple Functional Web</title>
<style>
body {
  font-family: Arial, sans-serif;
  background: #0f172a;
  color: white;
  display: flex;
  justify-content: center;
  align-items: center;
  height: 100vh;
}
.box {
  background: #1e293b;
  padding: 25px;
  border-radius: 10px;
  width: 300px;
}
input, button {
  width: 100%;
  padding: 10px;
  margin-top: 10px;
  border-radius: 5px;
  border: none;
}
button {
  background: #3b82f6;
  color: white;
  cursor: pointer;
}
button:hover {
  background: #2563eb;
}
.hidden {
  display: none;
}
</style>
</head>

<body>

<div class="box" id="authBox">
  <h2 id="title">Register</h2>
  <input id="username" placeholder="Username">
  <input id="password" type="password" placeholder="Password">
  <button onclick="submit()">Submit</button>
  <p style="text-align:center; margin-top:10px;">
    <a href="#" onclick="toggle()" style="color:#93c5fd;">Switch Login/Register</a>
  </p>
</div>

<div class="box hidden" id="dashboard">
  <h2>Welcome ðŸŽ‰</h2>
  <p id="userText"></p>
  <button onclick="logout()">Logout</button>
</div>

<script>
let isLogin = false;

function toggle() {
  isLogin = !isLogin;
  document.getElementById("title").innerText = isLogin ? "Login" : "Register";
}

function submit() {
  const user = username.value;
  const pass = password.value;

  if (!user || !pass) {
    alert("Fill all fields");
    return;
  }

  let users = JSON.parse(localStorage.getItem("users")) || {};

  if (isLogin) {
    if (users[user] === pass) {
      localStorage.setItem("currentUser", user);
      showDashboard();
    } else {
      alert("Wrong login");
    }
  } else {
    if (users[user]) {
      alert("User already exists");
    } else {
      users[user] = pass;
      localStorage.setItem("users", JSON.stringify(users));
      alert("Registered! Now login.");
      toggle();
    }
  }
}

function showDashboard() {
  authBox.classList.add("hidden");
  dashboard.classList.remove("hidden");
  userText.innerText = "Logged in as: " + localStorage.getItem("currentUser");
}

function logout() {
  localStorage.removeItem("currentUser");
  location.reload();
}

if (localStorage.getItem("currentUser")) {
  showDashboard();
}
</script>

</body>
</html>
