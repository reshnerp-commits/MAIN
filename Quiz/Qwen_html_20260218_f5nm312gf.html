<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Digital Awareness Challenge</title>
    <style>
        :root {
            --primary: #4f46e5;
            --primary-hover: #4338ca;
            --bg: #f8fafc;
            --card-bg: #ffffff;
            --text: #334155;
            --success: #10b981;
            --success-bg: #d1fae5;
            --error: #ef4444;
            --error-bg: #fee2e2;
            --border: #e2e8f0;
        }

        body {
            font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            background-color: var(--bg);
            color: var(--text);
            margin: 0;
            padding: 20px;
            line-height: 1.6;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
        }

        /* Header */
        header {
            text-align: center;
            margin-bottom: 40px;
            padding: 20px;
            background: var(--card-bg);
            border-radius: 16px;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        }

        h1 { margin: 0; color: var(--primary); }
        p.subtitle { color: #64748b; margin-top: 5px; }

        /* Quiz List */
        .quiz-list {
            display: flex;
            flex-direction: column;
            gap: 20px;
            margin-bottom: 30px;
        }

        .question-card {
            background: var(--card-bg);
            padding: 25px;
            border-radius: 12px;
            border: 1px solid var(--border);
            transition: transform 0.2s;
            position: relative;
            overflow: hidden;
        }

        .question-card:hover {
            border-color: var(--primary);
        }

        .q-number {
            font-size: 0.85rem;
            text-transform: uppercase;
            letter-spacing: 1px;
            color: #94a3b8;
            font-weight: bold;
            margin-bottom: 8px;
            display: block;
        }

        .q-text {
            font-size: 1.1rem;
            font-weight: 600;
            margin-bottom: 15px;
        }

        /* Options */
        .options-group {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .option-label {
            display: flex;
            align-items: center;
            padding: 12px 15px;
            border: 2px solid var(--border);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .option-label:hover {
            background-color: #f1f5f9;
            border-color: #cbd5e1;
        }

        input[type="radio"] {
            margin-right: 15px;
            transform: scale(1.2);
            accent-color: var(--primary);
        }

        /* Submit Button */
        .submit-container {
            text-align: center;
            margin: 40px 0;
        }

        .btn-submit {
            background-color: var(--primary);
            color: white;
            border: none;
            padding: 15px 40px;
            font-size: 1.1rem;
            font-weight: bold;
            border-radius: 50px;
            cursor: pointer;
            box-shadow: 0 4px 14px 0 rgba(79, 70, 229, 0.39);
            transition: all 0.3s ease;
        }

        .btn-submit:hover {
            background-color: var(--primary-hover);
            transform: translateY(-2px);
        }

        /* Results Styles (Applied via JS) */
        .question-card.correct-answer {
            border-left: 5px solid var(--success);
        }

        .question-card.wrong-answer {
            border-left: 5px solid var(--error);
        }

        .option-label.selected-correct {
            background-color: var(--success-bg);
            border-color: var(--success);
            color: #065f46;
            font-weight: bold;
        }

        .option-label.selected-wrong {
            background-color: var(--error-bg);
            border-color: var(--error);
            color: #991b1b;
            text-decoration: line-through;
        }

        .option-label.show-correct {
            background-color: var(--success-bg);
            border-color: var(--success);
            color: #065f46;
            font-weight: bold;
            position: relative;
        }
        
        .option-label.show-correct::after {
            content: "‚úì Correct Answer";
            position: absolute;
            right: 15px;
            font-size: 0.8rem;
            font-weight: bold;
        }

        .explanation-box {
            margin-top: 15px;
            padding: 15px;
            background-color: #f8fafc;
            border-radius: 8px;
            font-size: 0.95rem;
            border-left: 4px solid var(--primary);
            display: none; /* Hidden initially */
            animation: fadeIn 0.5s;
        }

        .explanation-title {
            font-weight: bold;
            display: block;
            margin-bottom: 5px;
            color: var(--primary);
        }

        /* Score Board */
        #score-board {
            display: none;
            text-align: center;
            background: var(--primary);
            color: white;
            padding: 30px;
            border-radius: 16px;
            margin-bottom: 30px;
            animation: slideDown 0.5s;
        }

        .score-big { font-size: 3rem; font-weight: bold; }
        
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        @keyframes slideDown { from { transform: translateY(-20px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }

        /* Disable interaction after submit */
        .locked input[type="radio"] { pointer-events: none; }
        .locked .option-label { cursor: default; }

    </style>
</head>
<body>

<div class="container">
    <header>
        <h1>üåê Digital Awareness Quiz</h1>
        <p class="subtitle">20 Questions ‚Ä¢ Submit All at Once ‚Ä¢ Instant Feedback</p>
    </header>

    <!-- Score Board (Hidden initially) -->
    <div id="score-board">
        <div>Your Score</div>
        <div class="score-big"><span id="score-val">0</span>/20</div>
        <div id="score-msg">Keep learning!</div>
        <button class="btn-submit" onclick="location.reload()" style="margin-top:15px; background: white; color: var(--primary);">Retake Quiz</button>
    </div>

    <!-- Quiz Form -->
    <form id="quiz-form">
        <div class="quiz-list" id="quiz-container">
            <!-- Questions injected here by JS -->
        </div>

        <div class="submit-container" id="submit-btn-container">
            <button type="button" class="btn-submit" onclick="submitQuiz()">Submit Answers</button>
        </div>
    </form>
</div>

<script>
    // 1. The Data (20 Items)
    const allQuestions = [
        {
            q: "What makes a password STRONG?",
            options: ["Using your birthday + pet's name", "'Password123' (easy to remember)", "12+ characters with mixed case, numbers & symbols", "Reusing the same password across sites"],
            answer: 2,
            explain: "Length and complexity are key. A password manager helps generate these."
        },
        {
            q: "What is Two-Factor Authentication (2FA)?",
            options: ["Using two passwords for one account", "A second verification step (like a code sent to your phone)", "Logging in from two devices at once", "Changing your password every two weeks"],
            answer: 1,
            explain: "2FA ensures that even if someone steals your password, they can't login without your phone."
        },
        {
            q: "You get an email: 'Verify your account now!' with a link. What do you do?",
            options: ["Click the link immediately", "Forward to friends", "Go to the official website manually by typing the URL", "Reply with your password"],
            answer: 2,
            explain: "Never click links in urgent emails. Type the website address yourself to be safe."
        },
        {
            q: "Which is a RED FLAG for phishing?",
            options: ["Generic greeting ('Dear Customer')", "Urgent language ('Act Now!')", "Suspicious sender address", "All of the above"],
            answer: 3,
            explain: "Scammers use urgency, generic greetings, and fake addresses to trick you."
        },
        {
            q: "Text message: 'Bank Account Locked! Call 1-800-XXX'. Action?",
            options: ["Call the number immediately", "Delete it & call bank using number on your card", "Reply 'STOP'", "Forward to friends"],
            answer: 1,
            explain: "This is 'Smishing'. Always use official contact numbers found on your card or statement."
        },
        {
            q: "What is 'Smishing'?",
            options: ["A fishing game", "Phishing via SMS/Text messages", "Sharing private messages", "A computer virus"],
            answer: 1,
            explain: "Smishing = SMS + Phishing."
        },
        {
            q: "What is a 'Digital Footprint'?",
            options: ["Physical mark on devices", "Trail of data you create online", "Security feature", "Battery life"],
            answer: 1,
            explain: "Every post, like, and search leaves a digital trail that can be tracked."
        },
        {
            q: "Best way to protect privacy on Social Media?",
            options: ["Accept all friend requests", "Post home address", "Review privacy settings regularly", "Use real birthdate publicly"],
            answer: 2,
            explain: "Settings change often. Regularly check who can see your posts and personal info."
        },
        {
            q: "What does Browser 'Incognito Mode' actually do?",
            options: ["Makes you 100% anonymous", "Prevents local history saving, but ISP/Websites still see you", "Encrypts all traffic", "Blocks all ads"],
            answer: 1,
            explain: "It only hides history from others using your specific device. It does not hide you from the internet."
        },
        {
            q: "What does 'HTTPS' indicate?",
            options: ["Site is 100% scam-free", "Connection is encrypted", "Owned by government", "Loads faster"],
            answer: 1,
            explain: "The 'S' stands for Secure. It means data sent between you and the site is encrypted."
        },
        {
            q: "Before downloading an app, you should:",
            options: ["Download if icon is cool", "Check reviews, developer, and permissions", "Grant all permissions", "Only download from social media links"],
            answer: 1,
            explain: "Malicious apps often ask for unnecessary permissions (like a flashlight app asking for contacts)."
        },
        {
            q: "What is the main risk of Public Wi-Fi?",
            options: ["It's slow", "Hackers can intercept unencrypted data", "Drains battery", "Installs viruses automatically"],
            answer: 1,
            explain: "Public Wi-Fi is often unencrypted, allowing hackers on the same network to snoop on your traffic."
        },
        {
            q: "How to spot false information?",
            options: ["Lots of emojis", "Lacks sources, sensational headlines, contradicts reputable news", "Shared by a friend", "Top of search results"],
            answer: 1,
            explain: "Emotional headlines and lack of sources are classic signs of fake news."
        },
        {
            q: "Before sharing shocking news, you should:",
            options: ["Share immediately", "Add your opinion", "Verify source & check fact-checkers", "Check like count"],
            answer: 2,
            explain: "Stop, Read, Think. Don't spread misinformation."
        },
        {
            q: "What is 'Cyberbullying'?",
            options: ["Aggressive gaming", "Harassing/threatening someone digitally", "Product criticism", "Political debate"],
            answer: 1,
            explain: "Repeated harmful behavior online intended to hurt someone."
        },
        {
            q: "What is a browser 'Cookie'?",
            options: ["A virus", "A small file that saves your site preferences/login status", "A type of ad", "A hardware component"],
            answer: 1,
            explain: "Cookies remember you. While useful, tracking cookies can invade privacy."
        },
        {
            q: "What is 'Ransomware'?",
            options: ["Software that demands payment to unlock your files", "A game where you pay to win", "Advertising software", "A fast internet connection"],
            answer: 0,
            explain: "Ransomware locks your data and demands money (usually crypto) to give it back."
        },
        {
            q: "Why are software updates important?",
            options: ["They add new emojis", "They fix security holes and bugs", "They make the computer heavier", "They are optional"],
            answer: 1,
            explain: "Updates often contain 'patches' for security vulnerabilities that hackers exploit."
        },
        {
            q: "What is 'Social Engineering'?",
            options: ["Building bridges online", "Manipulating people into breaking security procedures", "Coding social media apps", "Organizing online parties"],
            answer: 1,
            explain: "Hackers trick humans (not computers) into giving up passwords or access."
        },
        {
            q: "Safest way to dispose of an old hard drive?",
            options: ["Throw in trash", "Delete files normally", "Physically destroy it or use secure wiping software", "Give to a stranger"],
            answer: 2,
            explain: "Simply deleting files isn't enough. Data can be recovered. Physical destruction or secure wiping is best."
        }
    ];

    // 2. Shuffle Function (Fisher-Yates)
    function shuffleArray(array) {
        for (let i = array.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [array[i], array[j]] = [array[j], array[i]];
        }
        return array;
    }

    // 3. Render Quiz
    const quizContainer = document.getElementById('quiz-container');
    let shuffledQuestions = [];

    function initQuiz() {
        // Clone and shuffle questions so original order isn't messed up on reload
        shuffledQuestions = shuffleArray([...allQuestions]);
        
        quizContainer.innerHTML = '';

        shuffledQuestions.forEach((item, index) => {
            const card = document.createElement('div');
            card.className = 'question-card';
            card.id = `card-${index}`;

            let optionsHtml = '';
            item.options.forEach((opt, optIndex) => {
                optionsHtml += `
                    <label class="option-label" id="label-${index}-${optIndex}">
                        <input type="radio" name="q${index}" value="${optIndex}">
                        ${opt}
                    </label>
                `;
            });

            card.innerHTML = `
                <span class="q-number">Question ${index + 1} of 20</span>
                <div class="q-text">${item.q}</div>
                <div class="options-group">
                    ${optionsHtml}
                </div>
                <div class="explanation-box" id="explain-${index}">
                    <span class="explanation-title">üí° Explanation:</span>
                    ${item.explain}
                </div>
            `;
            quizContainer.appendChild(card);
        });
    }

    // 4. Submit Logic
    function submitQuiz() {
        let score = 0;
        let answeredCount = 0;
        const total = shuffledQuestions.length;

        // Check if all answered (Optional validation, currently allowing partial)
        // For this version, we will just grade what is selected.

        shuffledQuestions.forEach((item, index) => {
            const selected = document.querySelector(`input[name="q${index}"]:checked`);
            const card = document.getElementById(`card-${index}`);
            const explanation = document.getElementById(`explain-${index}`);
            
            // Show explanation for everyone after submit
            explanation.style.display = 'block';

            if (selected) {
                const userVal = parseInt(selected.value);
                const correctVal = item.answer;
                const selectedLabel = document.getElementById(`label-${index}-${userVal}`);
                const correctLabel = document.getElementById(`label-${index}-${correctVal}`);

                if (userVal === correctVal) {
                    // Correct
                    score++;
                    card.classList.add('correct-answer');
                    selectedLabel.classList.add('selected-correct');
                } else {
                    // Wrong
                    card.classList.add('wrong-answer');
                    selectedLabel.classList.add('selected-wrong');
                    correctLabel.classList.add('show-correct'); // Highlight the right one
                }
            } else {
                // Unanswered - Show correct answer
                card.classList.add('wrong-answer');
                const correctLabel = document.getElementById(`label-${index}-${item.answer}`);
                correctLabel.classList.add('show-correct');
            }
        });

        // Lock the form
        document.getElementById('quiz-form').classList.add('locked');
        document.getElementById('submit-btn-container').style.display = 'none';
        
        // Show Score Board
        const scoreBoard = document.getElementById('score-board');
        const scoreVal = document.getElementById('score-val');
        const scoreMsg = document.getElementById('score-msg');
        
        scoreBoard.style.display = 'block';
        scoreVal.textContent = score;

        if(score === 20) scoreMsg.textContent = "üèÜ Perfect! Digital Security Expert!";
        else if(score >= 15) scoreMsg.textContent = "ü•á Great Job! Very Tech Savvy.";
        else if(score >= 10) scoreMsg.textContent = "ü•à Good Effort! Keep Learning.";
        else scoreMsg.textContent = "ü•â Review the explanations below to improve!";

        // Scroll to top to see score
        window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    // Initialize on load
    initQuiz();

</script>

</body>
</html>